{"version":3,"sources":["../src/resolvers.js"],"names":["personas","resolvers","Query","hello","greet","root","name","tasks","console","log","conexion","query","error","results","fields","forEach","result","push","Object","JSON","parse","stringify","personaId","id","found","find","element","Mutation","createTask","_","input","_id","length","createPersona","undefined","nombre","segundo_nombre","apellido_paterno","apellido_materno","fecha_nacimiento","email","telefono","updatePersona","deletePersona"],"mappings":"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","sourcesContent":["import { tasks } from \"./sample\";\r\nimport {conexion} from \"./../connectmysql\"\r\n\r\nvar personas = []\r\n\r\nexport const resolvers = {\r\n    Query: {\r\n        hello: ()=>{\r\n            return 'Hello world with Graphql'\r\n        },\r\n        greet(root, {name}) {\r\n            return 'hello '+name;\r\n        },\r\n        tasks(){\r\n            console.log(tasks)\r\n            return tasks;\r\n        },\r\n        personas(){\r\n            conexion.query('SELECT * FROM users_test_felipe_ornelas', function (error, results, fields) {\r\n            personas=[]\r\n                if (error)\r\n                    throw error;\r\n                results.forEach(result => {\r\n                    personas.push(Object(JSON.parse(JSON.stringify(result))));\r\n                });\r\n                console.log(personas, \"rd\")\r\n            });\r\n            return personas;\r\n            \r\n        },\r\n        async personaId(root, {id}){\r\n            \r\n            conexion.query('SELECT * FROM users_test_felipe_ornelas WHERE id='+id+'', function (error, results, fields) {\r\n                personas=[]\r\n                if (error)\r\n                    throw error;\r\n                results.forEach(result => {\r\n                    personas.push(Object(JSON.parse(JSON.stringify(result))));\r\n                });\r\n                console.log(id, \"rd\")\r\n                const found = personas.find(element => element.id === id);\r\n                console.log(found)\r\n            });\r\n            \r\n            return personas\r\n            \r\n        }\r\n    },\r\n    Mutation: {\r\n        createTask(_, {input}) {\r\n            input._id = tasks.length;\r\n            console.log(input);\r\n            tasks.push(input);\r\n            return input;\r\n        },\r\n        createPersona(_, {input}) {\r\n            conexion.query('SELECT * FROM users_test_felipe_ornelas', function (error, results, fields) {\r\n                if (error)\r\n                    throw error;\r\n                personas = JSON.stringify(results)\r\n                console.log(personas, \"rd\")\r\n                results.forEach(result => {\r\n                    console.log(result);\r\n                });\r\n            });\r\n            if(personas.length === undefined) {\r\n                input.id = 0\r\n            }else{\r\n                input.id = personas.length;\r\n            }\r\n            console.log(input);\r\n            conexion.query('INSERT INTO users_test_felipe_ornelas (id, nombre, segundo_nombre, apellido_paterno, apellido_materno, fecha_nacimiento, email, telefono) VALUES (\"'+input.id+'\", \"'+input.nombre+'\", \"'+input.segundo_nombre+'\", \"'+input.apellido_paterno+'\", \"'+input.apellido_materno+'\", \"'+input.fecha_nacimiento+'\", \"'+input.email+'\", \"'+input.telefono+'\")' , function (error, results, fields) {\r\n                if (error)\r\n                    throw error;\r\n            \r\n                \r\n                return input;\r\n                console.log(result);\r\n                \r\n            });\r\n            return input;\r\n        },\r\n        updatePersona(_, {id, input}) {\r\n            conexion.query('UPDATE users_test_felipe_ornelas SET nombre=\"'+input.nombre+'\", segundo_nombre=\"'+input.segundo_nombre+'\", apellido_paterno=\"'+input.apellido_paterno+'\", apellido_materno=\"'+input.apellido_materno+'\", fecha_nacimiento=\"'+input.fecha_nacimiento+'\", email=\"'+input.email+'\", telefono=\"'+input.email+'\" WHERE id='+id, function (error, results, fields) {\r\n                if (error)\r\n                    throw error;\r\n            });\r\n            console.log(input);\r\n            return input;\r\n        },\r\n        deletePersona(_, {id}) {\r\n            conexion.query('DELETE FROM users_test_felipe_ornelas WHERE id='+id, function (error, results, fields) {\r\n                if (error)\r\n                    throw error;\r\n            });\r\n            return 'persona deleted';\r\n        }\r\n    } \r\n\r\n};"],"file":"resolvers.js"}